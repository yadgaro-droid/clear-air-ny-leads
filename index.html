<!doctype html>
<html lang="en">
  <head>
    <!-- Environment-aware analytics tracking -->
    <script>
      // Detect environment based on hostname
      var hostname = window.location.hostname;
      var isProduction = hostname === 'cleanventnyc.com' || hostname === 'www.cleanventnyc.com';
      var isStaging = hostname === 'staging.cleanventnyc.com';
      var isDevelopment = !isProduction && !isStaging;

      // Set analytics IDs based on environment
      var gtmId = isProduction ? 'GTM-MG4QT5TJ' : (isStaging ? 'GTM-W24X5XTZ' : null);
      var ga4Id = isProduction ? 'G-W685J6YNLM' : (isStaging ? 'G-FBWZ1N7VST' : null);
      var googleAdsId = isProduction ? 'AW-17485397894' : null; // Only on production

      // Load Google Tag Manager for production and staging
      if (gtmId) {
        (function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer',gtmId);

        console.log('âœ… GTM loaded:', gtmId, '(' + (isProduction ? 'Production' : 'Staging') + ')');
      }

      // Load Google Ads Conversion Tracking (production only)
      if (googleAdsId) {
        var gtagScript = document.createElement('script');
        gtagScript.async = true;
        gtagScript.src = 'https://www.googletagmanager.com/gtag/js?id=' + googleAdsId;
        document.head.appendChild(gtagScript);

        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', googleAdsId);

        console.log('âœ… Google Ads loaded:', googleAdsId);
      }

      // Log environment for debugging
      if (isDevelopment) {
        console.log('ðŸ”§ Development mode - Tracking disabled (' + hostname + ')');
      }
    </script>

    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/favicon.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Resource hints for external CDNs and fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdn.jsdelivr.net">
    <link rel="preconnect" href="https://www.googletagmanager.com">

    <!-- Preload LCP image (hero slider) with responsive sources -->
    <link rel="preload" as="image" href="/images/before-after/flexible-duct-before-mobile.webp" media="(max-width: 768px)" fetchpriority="high" type="image/webp">
    <link rel="preload" as="image" href="/images/before-after/flexible-duct-before.webp" media="(min-width: 769px)" fetchpriority="high" type="image/webp">

    <title>CleanVent NYC - Air Duct, Dryer Vent & Chimney Cleaning Services</title>
    <meta name="description" content="Professional air duct, dryer vent, and chimney cleaning in NYC. 7+ years experience, licensed & insured. Call (646) 596-3677 for free estimate!" />
    <meta name="keywords" content="air duct cleaning NYC, chimney cleaning New York, dryer vent cleaning, HVAC cleaning Brooklyn Queens Manhattan" />
    <meta name="author" content="CleanVent NYC" />
    <link rel="canonical" href="https://cleanventnyc.com" />

    <!-- Optimized Google Fonts loading with reduced weights and font-display=swap -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"></noscript>

    <meta property="og:title" content="CleanVent NYC - Air Duct, Dryer Vent & Chimney Cleaning" />
    <meta property="og:description" content="Professional air duct, dryer vent, and chimney cleaning in NYC. 7+ years experience. Free estimates!" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://cleanventnyc.com" />
    <meta property="og:image" content="https://cleanventnyc.com/og-image.png" />

    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="CleanVent NYC - Professional Vent & Chimney Cleaning" />
    <meta name="twitter:description" content="Air duct, dryer vent, and chimney cleaning services in NYC. Licensed & insured." />
    <meta name="twitter:image" content="https://cleanventnyc.com/og-image.png" />

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "LocalBusiness",
      "name": "CleanVent NYC",
      "description": "Professional air duct, dryer vent, and chimney cleaning services in New York City",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "New York",
        "addressRegion": "NY",
        "addressCountry": "US"
      },
      "telephone": "+1-646-596-3677",
      "priceRange": "$$",
      "openingHours": "Mo-Su 08:00-20:00",
      "areaServed": ["Manhattan", "Brooklyn", "Queens", "Bronx", "Staten Island"]
    }
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
